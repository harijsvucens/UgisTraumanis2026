backend:
  name: github
  repo: harijsvucens/UgisTraumanis2026
  branch: main

media_libraries:
  cloudinary:
    config:
      cloud_name: dowxhswap
      api_key: 856414461968897
    output_filename_only: true
    use_transformations: true

media_folder: "static/uploads"
public_folder: "/uploads"

collections:
  # 1. NEW ASSETS COLLECTION
  - name: "assets"
    label: "Image Assets"
    folder: "src/lib/data/assets"
    create: true
    slug: "{{slug}}"
    extension: "json"
    format: "json"
    identifier_field: "title"
    fields:
      - label: "ID"
        name: "id"
        widget: "uuid"
      - label: "Title"
        name: "title"
        widget: "string"
      - label: "Image File"
        name: "publicId"
        widget: "image"
        hint: "Upload your image here"
      - label: "Alt Text"
        name: "alt"
        widget: "string"
        hint: "Default description for accessibility"
      - label: "Exclude from Screensaver"
        name: "excludeFromScreensaver"
        widget: "boolean"
        default: false
        hint: "Check this to prevent this image from appearing in the screensaver slideshow"

  # 2. UPDATED PROJECTS COLLECTION
  - name: "projects"
    label: "Projects"
    folder: "src/lib/data/projects"
    create: true
    slug: "{{slug}}"
    extension: "json"
    format: "json"
    identifier_field: "id"
    fields:
      - label: "ID"
        name: "id"
        widget: "string"
      - label: "Title"
        name: "title"
        widget: "string"
      - label: "Year"
        name: "year"
        widget: "string"
      - label: "Sort Order"
        name: "sortOrder"
        widget: "number"
        default: 0
        hint: "Higher numbers appear first."
      - label: "Images"
        name: "images"
        widget: "list"
        fields:
          # Changed from 'image' widget to 'relation' widget
          - label: "Select Asset"
            name: "assetId"
            widget: "relation"
            collection: "assets"
            search_fields: ["title", "publicId"]
            value_field: "id"
            display_fields: ["title"]
            hint: "Pick an image from the Assets collection"
          - label: "Layout"
            name: "layout"
            widget: "select"
            default: "landscape"
            options:
              - { label: "Landscape", value: "landscape" }
              - { label: "Portrait", value: "portrait" }
              - { label: "Narrow", value: "narrow" }

  - name: "content"
    label: "Content"
    files:
      - name: "exhibitions"
        label: "Exhibitions"
        file: "src/lib/data/exhibitions.json"
        fields:
          - label: "Exhibitions"
            name: "exhibitions"
            widget: "list"
            fields:
              - label: "Year"
                name: "year"
                widget: "string"
              - label: "Description"
                name: "description"
                widget: "string"
      - name: "profile"
        label: "Profile"
        file: "src/lib/data/profile.json"
        fields:
          - label: "Bio"
            name: "bio"
            widget: "text"
          - label: "Contacts"
            name: "contacts"
            widget: "text"
      - name: "project-order"
        label: "Project Order"
        file: "src/lib/data/project-order.json"
        fields:
          - label: "Project Order"
            name: "order"
            widget: "list"
            hint: "Drag and drop to reorder projects. First item appears at the top."
            field:
              label: "Project"
              name: "projectId"
              widget: "relation"
              collection: "projects"
              search_fields: ["title", "id"]
              value_field: "id"
              display_fields: ["title", "year"]

